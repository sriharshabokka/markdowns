---
title: "Decision Trees"
author: "Sri Harsha Bokka"
date: "March 24, 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
A decision tree is a decision support tool that uses a tree-like graph or model of decisions and their possible consequences, including chance event outcomes, resource costs, and utility. It is one way to display an algorithm that only contains conditional control statements. 

A decision Tree is a flowchart-like structure in which each internal node represents a "test" on an attribute (e.g. whether a coin flip comes up heads or tails), each branch represents the outcome of the test, and each leaf node represents a class label (decision taken after computing all attributes). The paths from root to leaf represent classification rules.

A decision tree consists of three types of nodes:

  1. Decision nodes - typically represented by squares
  2. Chance nodes - typically represented by circles
  3. End nodes - typically represented by triangle

IN this example we will be using the cu.summary database. The dataset provides automobile data from consumer reports in 1990. The dataset has a mix of both ordinal, nominal and interval/ratio data. We will be using the rpart library for performing the decision tree analysis. The below example is for a regression tree


```{r cars}
library(rpart)
summary(cu.summary)
```


```{r pressure, echo=FALSE}
fit <- rpart(Mileage~Price + Country + Reliability + Type, 
   method="anova", data=cu.summary)
printcp(fit)
plotcp(fit)
summary(fit)
```



```{r}
par(mfrow=c(1,2)) # two plots on one page 
rsq.rpart(fit) # visualize cross-validation results  
```

```{r}
plot(fit, uniform=TRUE, 
  	main="Regression Tree for Mileage ")
text(fit, use.n=TRUE, all=TRUE, cex=.8)
```


```{r}
# prune the tree 
pfit<- prune(fit, cp=0.01160389) # from cptable   

# plot the pruned tree 
plot(pfit, uniform=TRUE, 
  	main="Pruned Regression Tree for Mileage")
text(pfit, use.n=TRUE, all=TRUE, cex=.8)
```

